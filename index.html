<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Meta Ads Advisor • Clydeside Social</title>
  <meta name="description" content="Review a live Meta ads campaign or plan a new one. Get recommendations, creative tests, and KPI targets."/>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
  <meta http-equiv="Pragma" content="no-cache"/>
  <meta http-equiv="Expires" content="0"/>
  <style>
    :root{
      --pink:#ff6680; --blue:#a9dde8; --text:#333; --card:#fff;
      --radius:14px; --shadow:0 8px 18px rgba(0,0,0,.08);
      --muted:#555; --good:#0a8f3c; --warn:#c27c00; --bad:#b00020;
      --line:#e9e9e9;
    }
    *{box-sizing:border-box}
    body{
      font-family:"Arial Rounded MT Bold", Arial, sans-serif;
      margin:0; padding:28px; background:var(--blue); color:var(--text);
      display:flex; justify-content:center;
    }
    .wrap{max-width:880px; width:100%}
    .logo{max-width:180px; display:block; margin:0 auto 10px}
    h1{margin:6px 0 16px; text-align:center; color:var(--pink)}
    .tabs{display:flex; gap:8px; margin:12px auto 16px; justify-content:center; flex-wrap:wrap}
    .tabbtn{
      border:2px solid var(--pink); background:#fff; color:var(--pink);
      padding:10px 14px; border-radius:999px; font-weight:bold; cursor:pointer;
    }
    .tabbtn.active{background:var(--pink); color:#fff}
    .card{
      background:var(--card); border:2px solid var(--pink);
      border-radius:var(--radius); padding:22px; box-shadow:var(--shadow);
    }
    label{display:block; font-weight:bold; margin:12px 0 6px}
    input[type="number"], select{
      width:100%; padding:12px; border:1px solid #ddd; border-radius:12px; background:#fff; font-family:inherit;
    }
    .row{display:grid; grid-template-columns:1fr 1fr; gap:14px}
    .checks{display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:8px}
    .checks label{font-weight:normal; display:flex; align-items:center; gap:8px; margin:0}
    button.cta{
      width:100%; margin-top:14px; padding:12px 16px; border:0; border-radius:999px;
      color:#fff; font-weight:bold; cursor:pointer;
      background:linear-gradient(135deg, var(--pink), #6a84ff);
      box-shadow:0 8px 18px rgba(0,0,0,.12);
    }
    button.cta:hover{filter:brightness(1.04)}
    .muted{opacity:.9; font-size:.95rem; color:var(--muted)}
    .out{margin-top:18px; background:#fff; border:1px solid #eee; border-radius:12px; padding:16px}
    .out h3{margin:0 0 8px; color:#222}
    .tips{margin:10px 0 0 18px}
    .kpi{border-top:1px dashed var(--line); margin-top:14px; padding-top:14px}
    .note{font-size:.9rem; margin-top:6px; color:var(--muted)}
    .pill{display:inline-block; padding:4px 10px; border-radius:999px; font-size:.8rem; color:#fff; margin-right:6px; margin-bottom:6px}
    .good{background:var(--good)} .warn{background:var(--warn)} .bad{background:var(--bad)}
    .hide{display:none}
    .hr{height:1px; background:var(--line); margin:14px 0}
    .exportbar{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
    .ghost{
      border:2px solid var(--pink); background:#fff; color:var(--pink);
      padding:10px 14px; border-radius:999px; font-weight:bold; cursor:pointer;
    }
    footer{margin-top:16px; text-align:center; font-size:.85rem; opacity:.75}
  </style>
</head>
<body>
  <div class="wrap">
    <img class="logo" src="logo.png" alt="Clydeside Social logo" onerror="this.style.display='none'">
    <h1>Meta Ads Advisor</h1>
    <p class="muted" style="text-align:center;margin:-4px 0 8px">Review a live campaign or plan a new one - quick, clear guidance you can act on.</p>

    <div class="tabs">
      <button class="tabbtn active" data-tab="review">Review existing campaign</button>
      <button class="tabbtn" data-tab="plan">Plan a new campaign</button>
    </div>

    <!-- REVIEW MODE -->
    <div class="card" id="tab_review">
      <label for="r_objective">Campaign type</label>
      <select id="r_objective">
        <option value="traffic">Traffic</option>
        <option value="leads">Leads</option>
        <option value="sales">Sales</option>
        <option value="email">Email list growth</option>
      </select>

      <div class="row">
        <div><label for="r_cpm">CPM (£)</label><input type="number" id="r_cpm" step="0.01" required></div>
        <div><label for="r_ctr">CTR (link %)</label><input type="number" id="r_ctr" step="0.1" required></div>
      </div>
      <div class="row">
        <div><label for="r_freq">Frequency</label><input type="number" id="r_freq" step="0.1" required></div>
        <div><label for="r_cpc">CPC (£)</label><input type="number" id="r_cpc" step="0.01" required></div>
      </div>
      <div class="row">
        <div><label for="r_spend">Spend (£)</label><input type="number" id="r_spend" step="0.01"></div>
        <div><label for="r_conv">Conversions</label><input type="number" id="r_conv" step="1"></div>
      </div>
      <div id="r_roasBlock" class="hide"><label for="r_roas">ROAS (%)</label><input type="number" id="r_roas" step="0.1"></div>

      <label for="r_pixel">Is your Facebook Pixel installed and all events firing correctly?</label>
      <select id="r_pixel">
        <option value="yes">Yes</option>
        <option value="no">No</option>
        <option value="unknown">Not sure</option>
      </select>
      <p class="note">(Pixel = Facebook tracking code. CAPI = Conversions API, used to send event data more accurately.)</p>

      <label for="r_audience">Audience type</label>
      <select id="r_audience"><option value="cold">Cold</option><option value="warm">Warm</option></select>

      <button class="cta" id="reviewBtn">Get diagnosis & next steps</button>
      <div class="exportbar hide" id="review_export">
        <button class="ghost" id="review_copy">Copy results</button>
        <button class="ghost" id="review_pdf">Download PDF</button>
      </div>

      <div id="review_out" class="out hide">
        <h3>Diagnosis</h3><p id="review_summary"></p><div id="review_pills"></div>
        <div class="kpi"><h3>Recommended next tests</h3><ul id="review_tests" class="tips"></ul></div>
      </div>
    </div>

    <!-- PLAN MODE -->
    <div class="card hide" id="tab_plan">
      <label for="p_objective">What do you want?</label>
      <select id="p_objective">
        <option value="traffic">More website visitors (Traffic)</option>
        <option value="leads">More enquiries (Leads)</option>
        <option value="sales">More sales (Conversions)</option>
        <option value="email">Grow my email list</option>
      </select>

      <div class="row">
        <div><label for="p_budget">Daily budget (£)</label><input type="number" id="p_budget" min="0" step="1"/></div>
        <div><label for="p_days">Campaign length (days)</label><input type="number" id="p_days" min="1" step="1"/></div>
      </div>

      <label>Creative types (tick any)</label>
      <div class="checks">
        <label><input type="checkbox" id="pc_image"> Image</label>
        <label><input type="checkbox" id="pc_carousel"> Carousel</label>
        <label><input type="checkbox" id="pc_reel"> Reel / Video</label>
        <label><input type="checkbox" id="pc_story"> Stories</label>
      </div>

      <div id="p_salesFields" class="hide"><label for="p_roas">Target ROAS goal (%)</label><input type="number" id="p_roas" min="0" step="0.1"/></div>

      <label for="p_pixel">Is your Facebook Pixel installed and all events firing correctly?</label>
      <select id="p_pixel">
        <option value="yes">Yes</option>
        <option value="no">No</option>
        <option value="unknown">Not sure</option>
      </select>
      <p class="note">(Pixel = Facebook tracking code. CAPI = Conversions API, used to send event data more accurately.)</p>

      <button class="cta" id="planBtn">Get plan</button>

      <div class="exportbar hide" id="plan_export">
        <button class="ghost" id="plan_copy">Copy results</button>
        <button class="ghost" id="plan_pdf">Download PDF</button>
      </div>

      <div id="plan_out" class="out hide">
        <h3>Recommended campaign</h3><p id="p_campaign" class="muted"></p><div class="hr"></div>
        <h3>Creative plan</h3><p id="p_plan"></p>
        <h3>Quick tips</h3><ul id="p_tips" class="tips"></ul>
        <div class="kpi"><h3>KPI Watchlist</h3><ul id="p_kpis" class="tips"></ul></div>
      </div>
    </div>

    <footer>© Clydeside Social</footer>
  </div>

  <script>
    const $=id=>document.getElementById(id),show=el=>el.classList.remove('hide'),hide=el=>el.classList.add('hide');

    // Tabs
    document.querySelectorAll('.tabbtn').forEach(btn=>{
      btn.addEventListener('click',()=>{
        document.querySelectorAll('.tabbtn').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        hide($('tab_review'));hide($('tab_plan'));
        show($('tab_'+btn.dataset.tab));
      });
    });

    // Show ROAS only for Sales review
    $('r_objective').addEventListener('change',()=>{ if($('r_objective').value==='sales') show($('r_roasBlock')); else hide($('r_roasBlock')); });

    function pill(label,state){const s=document.createElement('span');s.className=`pill ${state}`;s.textContent=label;return s;}

    // REVIEW
    $('reviewBtn').addEventListener('click',()=>{
      const obj=$('r_objective').value;
      const cpm=+$('r_cpm').value||null,ctr=+$('r_ctr').value||null,freq=+$('r_freq').value||null;
      const cpc=+$('r_cpc').value||null,spend=+$('r_spend').value||null,conv=+$('r_conv').value||null;
      const roas=+$('r_roas').value||null,pixel=$('r_pixel').value,audience=$('r_audience').value;

      const pills=[],tests=[];
      if(cpm){if(cpm<=10)pills.push(pill(`CPM £${cpm.toFixed(2)} ✓`,'good'));else if(cpm<=15)pills.push(pill(`CPM £${cpm.toFixed(2)} watch`,'warn'));else pills.push(pill(`CPM £${cpm.toFixed(2)} high`,'bad'));}
      if(ctr){if(ctr>=3)pills.push(pill(`CTR ${ctr}% good`,'good'));else if(ctr>=1)pills.push(pill(`CTR ${ctr}% ok`,'warn'));else pills.push(pill(`CTR ${ctr}% low`,'bad'));}
      if(cpc){if(cpc<=1)pills.push(pill(`CPC £${cpc.toFixed(2)} ✓`,'good'));else if(cpc<=2)pills.push(pill(`CPC £${cpc.toFixed(2)} watch`,'warn'));else pills.push(pill(`CPC £${cpc.toFixed(2)} high`,'bad'));}
      if(freq){if(freq<=3)pills.push(pill(`Freq ${freq.toFixed(1)} ✓`,'good'));else pills.push(pill(`Freq ${freq.toFixed(1)} high`,'warn'));}

      if(obj==='sales'&&roas){if(roas>=300)pills.push(pill(`ROAS ${roas}% ✓`,'good'));else if(roas>=150)pills.push(pill(`ROAS ${roas}% mid`,'warn'));else pills.push(pill(`ROAS ${roas}% low`,'bad'));}
      if((obj==='leads'||obj==='email')&&conv&&spend){const cpa=spend/conv;if(cpa<=10)pills.push(pill(`CPL £${cpa.toFixed(2)} ✓`,'good'));else if(cpa<=20)pills.push(pill(`CPL £${cpa.toFixed(2)} ok`,'warn'));else pills.push(pill(`CPL £${cpa.toFixed(2)} high`,'bad'));}

      if(pixel==='no'){pills.push(pill('Pixel/events issue','bad'));tests.push('Your Facebook Pixel or Conversions API might not be firing correctly — check events in Meta’s Events Manager.');}
      if(audience==='cold'&&ctr<1)tests.push('Cold audience + low CTR: sharpen hooks or test more relevant segments.');
      if(audience==='warm'&&ctr<1)tests.push('Warm audience + low CTR: refresh creative/copy, messaging may be stale.');
      tests.push('Manually test copy, creative and CTA variations.');

      $('review_summary').textContent='Based on your inputs:';
      $('review_pills').innerHTML='';pills.forEach(p=>$('review_pills').appendChild(p));
      $('review_tests').innerHTML='';tests.forEach(t=>{const li=document.createElement('li');li.textContent=t;$('review_tests').appendChild(li);});
      show($('review_out'));show($('review_export'));
    });

    // PLAN
    $('planBtn').addEventListener('click',()=>{
      const obj=$('p_objective').value,budget=+$('p_budget').value||0,days=+$('p_days').value||0;
      const roasGoal=+$('p_roas').value||0,pixel=$('p_pixel').value;
      const creatives=['pc_image','pc_carousel','pc_reel','pc_story'].map(id=>{
        const el=$(id); return el && el.checked ? el.nextSibling.textContent.trim() : null;
      }).filter(Boolean);

      let campaignType='',tips=[],plan='',kpis=[];
      if(obj==='traffic'){campaignType='Traffic';tips.push('Make landing page fast and clear.');}
      if(obj==='leads'){campaignType='Leads';tips.push('Offer clear value exchange (guide/discount).');}
      if(obj==='sales'){campaignType='Sales / Conversions';tips.push('Verify Facebook Pixel events before scaling.');if(roasGoal)tips.push(`Aim for ROAS ≈ ${roasGoal}%.`);}
      if(obj==='email'){campaignType='List Growth';tips.push('Provide a useful lead magnet + welcome automation.');}
      if(pixel==='no')tips.push('Check Facebook Pixel + Conversions API setup — confirm events fire in Meta’s Events Manager.');
      if(budget<10&&days<28)tips.push('First campaigns: aim for £10/day and 21–28 days to allow testing.');

      if(budget<30){
        plan='Start with 2 creatives, and have a 3rd ready to swap in if performance dips.';
      }else{
        plan='Run 2–3 creatives to start, and keep one extra in reserve for testing.';
      }
      plan += '\nEnsure creative is resized for Stories and all placements.';

      kpis=['Frequency ≤3; refresh creative if higher with no results.','CPM target <£10 (expect higher in Q4).'];
      if(obj!=='sales'){kpis.push('CTR warm ≥3%; cold ≥1%.');}else{kpis.push('ROAS: set goal (e.g. 300%) and allow 3–7 days for learning.');}

      $('p_campaign').textContent=campaignType; $('p_plan').textContent=plan;
      const tUl=$('p_tips'); tUl.innerHTML=''; tips.forEach(t=>{const li=document.createElement('li');li.textContent=t;tUl.appendChild(li);});
      const kUl=$('p_kpis'); kUl.innerHTML=''; kpis.forEach(k=>{const li=document.createElement('li');li.textContent=k;kUl.appendChild(li);});

      show($('plan_out')); show($('plan_export'));
    });

    // Export helpers
    function collectText(c){const lines=[];c.querySelectorAll('h3,p,li,.pill').forEach(el=>{const t=el.textContent.trim();if(t)lines.push(t);});return lines.join('\n');}
    async function copyResults(c){const txt=collectText(c).trim();if(!txt){alert('No results.');return;}await navigator.clipboard.writeText(txt);alert('Copied ✅');}
    function printSection(c){if(c.classList.contains('hide')){alert('Generate results first.');return;}window.print();}
    document.getElementById('review_copy').addEventListener('click',()=>copyResults(document.getElementById('review_out')));
    document.getElementById('plan_copy').addEventListener('click',()=>copyResults(document.getElementById('plan_out')));
    document.getElementById('review_pdf').addEventListener('click',()=>printSection(document.getElementById('review_out')));
    document.getElementById('plan_pdf').addEventListener('click',()=>printSection(document.getElementById('plan_out')));
  </script>
</body>
</html>




